(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),i=n.n(c),o=n(9),s=n.n(o),u=n(11),d=n(22),l=n(158),j={ROOT_URL:"https://serverside-rendering-cra.df.r.appspot.com"},p=n(2),m=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(d.a,{children:[Object(p.jsx)("title",{children:"Home"}),Object(p.jsx)("meta",{property:"og:title",content:"Home page"}),Object(p.jsx)("meta",{property:"og:description",content:"Server-side rendering for create react app. Lorem ipsum dolor sit amet posuere, congue massa"}),Object(p.jsx)("meta",{property:"og:image",content:"".concat(j.ROOT_URL,"/ssr.png")}),Object(p.jsx)("meta",{name:"twitter:card",content:"Home page"}),Object(p.jsx)("meta",{property:"og:site_name",content:"Server-side rendering for create react app"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(l.a,{variant:"h4",children:"Home page"}),Object(p.jsx)(l.a,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec non eros eu velit consectetur feugiat. Suspendisse condimentum augue tortor, non faucibus massa sodales et. Donec at erat pretium, sagittis enim posuere, congue massa. Aliquam dapibus metus justo, quis fringilla metus consectetur a. Sed ornare volutpat nibh, euismod rutrum ante bibendum eget. Cras suscipit odio ac libero feugiat suscipit. Nullam purus urna, pharetra ac felis id, vehicula volutpat felis. Nullam a magna euismod, porttitor dolor placerat, viverra nibh. Aliquam sed accumsan eros, ac tempus erat. Praesent vehicula sapien nec arcu sodales, et condimentum mi elementum. In efficitur sapien vitae luctus volutpat. Suspendisse interdum rhoncus dolor nec tincidunt. Phasellus pellentesque ipsum non diam bibendum ullamcorper. Aliquam ultricies fringilla feugiat. Morbi ultricies sed dolor id accumsan."})]})]})},g=n(15),b=n(28),h=n(55),O=n.n(h),f=Object(b.c)({selectId:function(e){return e.name}}),x=Object(b.b)("pokemons/fetch",(function(e){var t=e.page,n=e.perPage;return O()({method:"GET",url:"https://pokeapi.co/api/v2/pokemon",params:{limit:n,offset:t*n}}).then((function(e){return{pokemons:e.data.results,count:e.data.count}}))})),v=f.getInitialState({loading:"idle",count:0,currentRequestId:void 0,error:null}),k=Object(b.d)({name:"pokemons",initialState:v,reducers:{},extraReducers:(r={},Object(g.a)(r,x.pending,(function(e,t){e.loading="pending",e.currentRequestId=t.meta.requestId,e.error=null})),Object(g.a)(r,x.fulfilled,(function(e,t){if(t.meta.requestId===e.currentRequestId){var n=t.payload,r=n.pokemons,a=n.count;e.loading="idle",f.setAll(e,r),e.count=a,e.currentRequestId=void 0}})),Object(g.a)(r,x.rejected,(function(e,t){t.meta.requestId===e.currentRequestId&&(e.loading="idle",e.error=t.error.message,e.currentRequestId=void 0)})),r)}).reducer,P=Object(b.b)("pokemonDetail/fetch",(function(e){var t=e.id;return O()({method:"GET",url:"https://pokeapi.co/api/v2/pokemon/".concat(t)}).then((function(e){var t=e.data;return{id:t.id,height:t.height,weight:t.weight,name:t.name,sprites:t.sprites}}))})),y={loading:"idle",entity:null,currentRequestId:void 0,error:null},I=Object(b.d)({name:"pokemonDetail",initialState:y,reducers:{},extraReducers:(a={},Object(g.a)(a,P.pending,(function(e,t){e.loading="pending",e.currentRequestId=t.meta.requestId,e.error=null})),Object(g.a)(a,P.fulfilled,(function(e,t){t.meta.requestId===e.currentRequestId&&(e.entity=t.payload,e.loading="idle",e.currentRequestId=void 0)})),Object(g.a)(a,P.rejected,(function(e,t){t.meta.requestId===e.currentRequestId&&(e.loading="idle",e.error=t.error.message,e.currentRequestId=void 0)})),a)}).reducer,R=n(49),w=n(24),D=n(19),L={selectCount:function(e){return e.pokemons.count},selectLoading:function(e){return e.pokemons.loading},selectAll:f.getSelectors((function(e){return e.pokemons})).selectAll},N=function(e){return e.pokemonDetail.entity},S=function(e){return e.pokemonDetail.loading},q=function(e){return e.pokemonDetail.error},E=n(162),M=n(163),A=n(126),_=n(164),T=n(165),C=n(166),F=n(167),H=n(168),U=n(169),B=n(36),G=n.n(B),K=Object(E.a)({tableContainer:{position:"relative"},loadingModal:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.5,zIndex:-1,display:"flex",alignItems:"center",justifyContent:"center"},loadingModalHidden:{zIndex:-1},loadingModalVisible:{zIndex:999,backgroundColor:"lightgrey"},cellRoot:{lineHeight:.3}}),z=function(e){var t=e.rows,n=e.columns,r=e.isLoading,a=K();return Object(p.jsxs)(M.a,{component:A.a,className:G()(a.tableContainer),children:[r&&Object(p.jsx)(_.a,{}),Object(p.jsx)("div",{className:G()(a.loadingModal,r?a.loadingModalVisible:a.loadingModalHidden)}),Object(p.jsxs)(T.a,{children:[Object(p.jsx)(C.a,{children:Object(p.jsx)(F.a,{children:n.map((function(e){return Object(p.jsx)(H.a,{children:e.title},e.id)}))})}),Object(p.jsx)(U.a,{children:t.map((function(e){return Object(p.jsx)(F.a,{children:n.map((function(t){return Object(p.jsx)(H.a,{className:a.cellRoot,children:t.render(e)},t.id)}))},e.id)}))})]})]})};z.defaultProps={isLoading:!1};var V=i.a.memo(z),J=function(e){var t=e.text,n=e.highlight,r=e.style;if(!n.trim())return Object(p.jsx)("span",{style:r,children:t});var a=new RegExp("(".concat(n,")"),"gi"),c=t?t.split(new RegExp("(".concat(n,")"),"gi")):[];return Object(p.jsx)("span",{style:r,children:c.filter((function(e){return e})).map((function(e,t){return a.test(e)?Object(p.jsx)("mark",{children:e},t):Object(p.jsx)("span",{children:e},t)}))})};J.defaultProps={highlight:""};var W=J,Q=n(177),X=n(176),Y=Object(E.a)({input:{flex:1,margin:"15px 0"}}),Z=function(){var e=Y(),t=Object(u.g)(),n=Object(u.f)(),r=Object(D.b)(),a=new URLSearchParams(t.search),i=parseInt(a.get("page"))||0,o=parseInt(a.get("perPage"))||20,s=Object(c.useState)(""),l=Object(R.a)(s,2),m=l[0],g=l[1],b=Object(c.useState)(""),h=Object(R.a)(b,2),O=h[0],f=h[1],v=Object(D.c)(L.selectAll),k=Object(D.c)(L.selectCount),P=Object(D.c)(L.selectLoading),y=Object(c.useMemo)((function(){return v.map((function(e){return{id:e.name,name:e.name,url:e.url}}))}),[v]),I=Object(c.useMemo)((function(){return y.filter((function(e){return e.name.toLowerCase().includes(O.toLowerCase())}))}),[y,O]);Object(c.useEffect)((function(){var e=setTimeout((function(){f(m)}),250);return function(){clearTimeout(e)}}),[m]),Object(c.useEffect)((function(){r(x({page:i,perPage:o}))}),[]);var N=k,S=Object(c.useMemo)((function(){return e=O,[{id:"1",title:"Name",render:function(t){return Object(p.jsx)(W,{text:t.name,highlight:e})}},{id:"2",title:"Detail URL",render:function(e){return Object(p.jsx)(w.b,{className:"link",to:"/pokemons/".concat(e.id),children:"View detail"})}}];var e}),[O]);return Object(p.jsxs)("div",{className:"pokemonsPage",children:[Object(p.jsxs)(d.a,{children:[Object(p.jsx)("title",{children:"Pokemons List"}),Object(p.jsx)("meta",{property:"og:title",content:"Pokemons List"}),Object(p.jsx)("meta",{property:"og:description",content:"Server-side rendering for create react app. Pokemons list"}),Object(p.jsx)("meta",{property:"og:image",content:"".concat(j.ROOT_URL,"/ssr.png")}),Object(p.jsx)("meta",{name:"twitter:card",content:"Server-side rendering for create react app. Pokemons list"}),Object(p.jsx)("meta",{property:"og:site_name",content:"Server-side rendering for create react app"})]}),Object(p.jsx)(Q.a,{className:e.input,placeholder:"Filter on the current page...",variant:"outlined",value:m,onChange:function(e){return g(e.target.value)}}),Object(p.jsx)(V,{rows:I,columns:S,isLoading:"pending"===P}),N>0&&Object(p.jsx)(X.a,{rowsPerPageOptions:[10,20,40],component:"div",count:N,rowsPerPage:o,page:i,onChangePage:function(e,t){return n.push("pokemons?page=".concat(t,"&perPage=").concat(o))},onChangeRowsPerPage:function(e){var t=parseInt(e.target.value,10);n.push("pokemons?page=0&perPage=".concat(t))}})]})},$=function(e){var t=Object(D.c)(N),n=Object(D.c)(S),r=Object(D.c)(q);if("pending"===n)return Object(p.jsx)("h1",{children:"Loading"});if(r)return Object(p.jsxs)("h3",{style:{color:"red"},children:[" ",r," "]});if(null!==t){var a=t.height,c=t.weight,i=t.name,o=t.sprites;return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)(d.a,{children:[Object(p.jsx)("title",{children:t.name}),Object(p.jsx)("meta",{property:"og:title",content:"Pokemon Detail page - ".concat(i)}),Object(p.jsx)("meta",{property:"og:description",content:"Server-side rendering for create react app. Pokemon detail: ".concat(i)}),Object(p.jsx)("meta",{property:"og:image",content:o.front_default}),Object(p.jsx)("meta",{name:"twitter:card",content:"Server-side rendering for create react app. Pokemon detail: ".concat(i)}),Object(p.jsx)("meta",{property:"og:site_name",content:"Server-side rendering for create react app"})]}),Object(p.jsxs)(l.a,{children:["ID: ",i]}),Object(p.jsxs)(l.a,{children:["Height: ",a]}),Object(p.jsxs)(l.a,{children:["Weight: ",c]}),Object(p.jsxs)(l.a,{children:["Name: ",i]}),Object(p.jsx)("img",{src:o.front_default,alt:"Front default pokemon"}),Object(p.jsx)("img",{src:o.back_default,alt:"Back default pokemon"})]})}return null},ee=function(){var e=Object(c.useState)(!0),t=Object(R.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){r(!1)}),3e3);return function(){clearTimeout(e)}}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{children:Object(p.jsx)("title",{children:"Admin"})}),n?Object(p.jsx)(l.a,{variant:"h4",children:"Loading ..."}):Object(p.jsx)(l.a,{variant:"h4",children:"Admin page."})]})},te={HOME:"/",POKEMONS:"/pokemons",POKEMON_DETAIL:"/pokemons/:id",ADMIN:"/admin",NOT_FOUND:"*"},ne=function(){return Object(p.jsx)(l.a,{variant:"h1",children:"Not FOUND PAGE"})},re=[{path:te.HOME,render:function(){return Object(p.jsx)(m,{})},exact:!0,hydrate:!0},{path:te.POKEMONS,render:function(){return Object(p.jsx)(Z,{})},exact:!0,hydrate:!0,fetchDataForPage:function(e){var t=e.search;return function(e){var n=new URLSearchParams(t),r=parseInt(n.get("page"))||0,a=parseInt(n.get("perPage"))||20;return e(x({page:r,perPage:a}))}}},{path:te.POKEMON_DETAIL,render:function(){return Object(p.jsx)($,{})},exact:!0,fetchDataForPage:function(e){var t=e.params;return function(e){var n=t.id;return e(P({id:n}))}},hydrate:!0},{path:te.ADMIN,render:function(){return Object(p.jsx)(ee,{})},hydrate:!1},{path:te.NOT_FOUND,render:function(){return Object(p.jsx)(ne,{})},hydrate:!1}],ae=n(173),ce=n(172),ie=Object(E.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{color:"white",marginRight:20,textDecoration:"none"},highLight:{backgroundColor:"gray",padding:"5px 10px"}}})),oe=function(){var e,t,n,r=ie(),a=Object(u.g)().pathname;return Object(p.jsx)(ae.a,{position:"static",children:Object(p.jsxs)(ce.a,{children:[Object(p.jsx)(l.a,{className:G()((e={},Object(g.a)(e,r.title,!0),Object(g.a)(e,r.highLight,"/"===a),e)),component:w.b,to:"/",color:"textPrimary",children:"Home"}),Object(p.jsx)(l.a,{className:G()((t={},Object(g.a)(t,r.title,!0),Object(g.a)(t,r.highLight,"/pokemons"===a),t)),component:w.b,to:"/pokemons",children:"Pokemons"}),Object(p.jsx)(l.a,{className:G()((n={},Object(g.a)(n,r.title,!0),Object(g.a)(n,r.highLight,"/admin"===a),n)),component:w.b,to:"/admin",children:"Admin"})]})})},se=function(e){var t=null;return{foundRoute:re.find((function(n){return t=Object(u.e)(e,{path:n.path,exact:n.exact}),Boolean(t)})),match:t}},ue=n(81),de=n(80),le=n.n(de),je=Object(ue.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:le.a.A400},background:{default:"#fff"}}}),pe=n(174),me=function(){var e=Object(u.f)(),t=Object(D.b)();return Object(c.useEffect)((function(){var n=e.listen((function(e){var n=e.pathname,r=e.search,a=se(n),c=a.foundRoute,i=a.match;c&&c.fetchDataForPage&&t(c.fetchDataForPage({search:r,params:i.params}))}));return function(){return n()}}),[e,t]),Object(p.jsxs)(pe.a,{theme:je,children:[Object(p.jsx)(oe,{}),Object(p.jsx)(u.c,{children:re.map((function(e){return Object(p.jsx)(u.a,{path:e.path,exact:e.exact,render:e.render},e.path)}))})]})},ge=i.a.memo(me),be=function(e){return Object(b.a)({reducer:{pokemons:k,pokemonDetail:I},preloadedState:e})}(window.__PRELOADED_STATE__),he=se(window.location.pathname),Oe=he.foundRoute,fe=he.match;Oe&&!Oe.hydrate&&Oe.fetchDataForPage&&be.dispatch(Oe.fetchDataForPage({params:fe.params,search:window.location.search}));var xe=function(){return Object(c.useEffect)((function(){var e=document.querySelector("#jss-server-side");e&&e.parentElement.removeChild(e)}),[]),Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(D.a,{store:be,children:Object(p.jsx)(w.a,{children:Object(p.jsx)(d.b,{children:Object(p.jsx)(ge,{})})})})})};Oe&&Oe.hydrate?s.a.hydrate(Object(p.jsx)(xe,{}),document.getElementById("root")):s.a.render(Object(p.jsx)(xe,{}),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.880d8ef6.chunk.js.map